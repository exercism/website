- require_stylesheet "about"
- require_stylesheet "admin"
.py-20
  .lg-container
    %h1.text-h1= @partner.name

    %hr.my-32.border-borderColor5

    %h2.text-h2.mb-12= t('.perks_header')
    %table.mb-12.c-admin-table
      %tr
        %th= t('.perks_table.headers.perk')
        %th= t('.perks_table.headers.status')
        %th= t('.perks_table.headers.clicks')
        %th{ colspan: 2 }
      - @partner.perks.each do |perk|
        %tr
          %td
            %div{ class: 'max-w-[443px]' }= render ViewComponents::Partner::Perk.new(perk)
          %td.w-arbitary
            %span{ class: "c-perk-status-tag #{perk.status}" }= perk.status.titleize
          %td.w-arbitary= perk.num_clicks
          %td.w-arbitary= link_to t('.perks_table.details_link'), admin_partner_perk_path(@partner, perk)
          %td.w-arbitary= link_to t('.perks_table.edit_link'), edit_admin_partner_perk_path(@partner, perk)
    .flex
      = link_to t('.add_new_perk_button'), new_admin_partner_perk_path(@partner), class: 'btn btn-primary btn-base'

    %hr.my-32.border-borderColor5

    %h2.text-h2.mb-12= t('.adverts_header')
    %table.mb-12.c-admin-table
      %tr
        %th= t('.adverts_table.headers.advert')
        %th= t('.adverts_table.headers.status')
        %th= t('.adverts_table.headers.track_slugs')
        %th= t('.adverts_table.headers.impressions')
        %th= t('.adverts_table.headers.clicks')
        %th{ colspan: 2 }
      - @partner.adverts.each do |advert|
        %tr
          %td= render ViewComponents::Partner::Advert.new(advert:, preview: true)
          %td.w-arbitary
            %span{ class: "c-perk-status-tag #{advert.status}" }= advert.status.titleize
          %td.w-arbitary= advert.track_slugs
          %td.w-arbitary= advert.num_impressions
          %td.w-arbitary= advert.num_clicks
          %td.w-arbitary= link_to t('.adverts_table.details_link'), admin_partner_advert_path(@partner, advert)
          %td.w-arbitary= link_to t('.adverts_table.edit_link'), edit_admin_partner_advert_path(@partner, advert)
    .flex
      = link_to t('.add_new_advert_button'), new_admin_partner_advert_path(@partner), class: 'btn btn-primary btn-base'

    %hr.my-32.border-borderColor5

    .flex.gap-16.mt-32
      = link_to t('.edit_partner_button'), edit_admin_partner_path(@partner), class: 'btn btn-standard btn-base'
      = link_to t('.back_to_partners_button'), admin_partners_path, class: 'btn btn-standard btn-base'
