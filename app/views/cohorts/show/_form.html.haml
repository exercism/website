#gobridge-partner-page
  %a{ name: "register" }
  %section.contributing-section.pb-80
    .lg-container.flex.flex-col.items-center
      %h2.text-h4.mb-16.flex.items-center
        = graphical_icon "concepts"
        .text-gradient.ml-24= t('.get_registered')

      - if !user_signed_in?
        %h3.text-h1.text-center.mb-16= t('.sign_up_to_cohort', cohort_name: cohort.name)
        %p.text-p-xlarge.mb-16.text-center.mx-auto{ style: "max-width:600px;" }
          = t('.login_or_signup_message', cohort_name: cohort.name.split('(').first)

        .buttons.flex.mb-40.flex-col.sm:flex-row
          = link_to t('.signup_button'), new_user_registration_path, class: 'btn-primary btn-l mb-12 sm:mb-0 sm:mr-16'
          = link_to t('.login_button'), new_user_session_path, class: 'btn-secondary btn-l shadow-buttonS'

      - elsif membership
        - if membership.enrolled?
          %h3.text-h1.text-center.mb-16= t('.you_are_all_set')
          %p.text-p-xlarge.mb-16.text-center.mx-auto{ style: "max-width:800px;" }
            = t('.enrolled_message', cohort_name: cohort.name)
        - else
          %h3.text-h1.text-center.mb-16= t('.you_are_on_waiting_list')
          %p.text-p-xlarge.mb-16.text-center.mx-auto{ style: "max-width:800px;" }
            = t('.waiting_list_message', cohort_name: cohort.name, position: membership.position_on_waiting_list.ordinalize)

      - else
        %h3.text-h1.text-center.mb-16= t('.sign_up_to_cohort', cohort_name: cohort.name)
        %p.text-p-xlarge.mb-32.text-center.mx-auto{ style: "max-width:800px;" }
          = t('.registration_easy', cohort_name: cohort.name.split('(').first)

          = form_with url: join_cohort_path(cohort.slug), 'data-turbo': false, html: { 'data-turbo': false, class: "mx-auto shadow-lgZ1 py-24 px-32 rounded-12 bg-white", style: "max-width:800px;" } do |f|
            .field.mb-12
              = f.label :introduction, t('.introduce_yourself_label'), class: 'text-p-large block text-textColor6 font-semibold', style: "margin-bottom:10px"
              = f.text_area :introduction, autocomplete: "email", placeholder: t('.introduction_placeholder', cohort_name: cohort.name), style: "width:600px;height:120px", required: true
            %label.c-checkbox-wrapper.mb-12
              = check_box_tag :active, '', false, required: true
              .row
                .c-checkbox
                  = graphical_icon :checkmark
                %span.text-p-large.text-textColor6.font-semibold
                  = t('.commit_to_participating', cohort_name: cohort.name)
            = button_tag t('.register_button'), class: 'btn-primary btn-l'
