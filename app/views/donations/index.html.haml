#page-donate
  - link_class = "underline hover:text-lightBlue"
  %header.pt-24.pd:mt-40.md:shadow-lgZ1
    .lg-container.flex.flex-col.items-center.c-shapes
      = graphical_icon "community-with-exercism-logo", category: :graphics
      %h1.text-h1.mb-4
        %strong.text-gradient Support our goal:
        To bring the joy of programming to everyone, everywhere ‚ú®

      .text-textColor1.text-20.text-center.leading-150.mb-48
        We care about social mobility and bringing underrepresented communities into tech.
        %br
        %span.font-medium
          You can learn more about our
          = link_to 'Mission,', about_path, class: link_class
          /= link_to 'Roadmap', contributing_root_path, class: link_class
          = link_to 'Impact', impact_about_path, class: link_class
          and
          = succeed('.') do
            = link_to 'Team', team_about_path, class: link_class

      .summary.lg-container.hidden.md:flex.items-center
        .item
          .value= Donations::Payment.total_supporters
          .metric Supporters

        .item
          - parts = Donations::Subscription.active_total_per_month_in_dollars.to_s.split(".")
          .value.c-financial-amount.py-10
            .currency.text-16.leading-100.mr-4 $
            .dollars.text-32.leading-130= parts[0]
            .cents.text-20.leading-100 .#{parts[1].to_s.ljust(2, '0')}
          .metric Total Monthly Pledges

        .item
          - parts = Donations::Payment.total_donated_in_dollars.to_s.split(".")
          .value.c-financial-amount.py-10
            .currency.text-16.leading-100.mr-4 $
            .dollars.text-32.leading-130= parts[0]
            .cents.text-20.leading-100 .#{parts[1].to_s.ljust(2, '0')}
          .metric Total Raised (since Sept 2021)

  .lg-container
    %article.pt-40

      - if user_signed_in?
        %section.form-section
          = render ReactComponents::Donations::FormWithModal.new
      - else
        %section.form-section.flex-shrink-0{ style: 'width:500px' }
          .c-donations-form.p-32.text-center
            %h2.text-h3.mb-8 Please log in to donate.
            %p.text-p-base
              Due to constant attacks by bots we now require that everyone
              = link_to "logs in", new_user_session_path
              or
              = link_to "signs up", new_user_registration_path
              before donating. We apologize for the inconvenience!

      %section.info-section.pt-48.lg:pt-0
        %h2.text-h2.mb-32 Here‚Äôs what you can do to support us.
        .flex.flex-row.shadow-baseZ1.p-24.rounded-16.bg-white.mb-16.border-2.border-gradient.relative
          = graphical_icon "money-contribution", category: :graphics, css_class: "h-[96px] w-[96px] mr-20"
          .flex.flex-col
            .text-h4.mb-4 Donate
            .text-prose.text-textColor5{ class: 'mr-[40px]' }
              Support us finanically using the donation box
              %span.hidden.md:inline to the right.
              %span.inline.md:hidden above.
              Every dollar helps us keep us independent, advert-free and able to grow, so please support us if you can! üíú
          .hidden.lg:flex.self-center.absolute{ class: 'text-[70px] right-[-40px]' }
            üëâüèº

        = link_to contributing_root_path, class: "flex flex-row shadow-base p-24 rounded-16 bg-white mb-16 hover:shadow-baseZ1" do
          = graphical_icon "code-contribution", category: :graphics, css_class: "h-[96px] w-[96px] mr-20"
          .flex.flex-col.mr-32
            .text-h4.mb-4 Code Contribution
            .text-prose.text-textColor5
              Exercism is open source, and takes code contributions from the community. There are 768 tasks waiting for help. Browse through them by language, task type, and a whole lot more to see if you can help build Exercism.
          .flex.items-center.p-12
            = graphical_icon "chevron-right", css_class: 'h-[24px] w-[24px]'

        .flex.flex-row.shadow-base.p-24.rounded-16.bg-white.mb-16
          = graphical_icon "organisation-contribution", category: :graphics, css_class: "h-[96px] w-[96px] mr-20"
          .flex.flex-col
            .text-h4.mb-4 Get your company involved
            .text-prose.text-textColor5
              Does your company support not-for-profits or charities? Do you have a matched giving scheme at work? We‚Äôd love to chat to you to understand how your company could support us. Please
              drop us an email at
              = link_to "fundraising@exercism.org", "mailto:fundraising@exercism.org", class: "text-lightBlue font-medium underline"
              and we'll explore further!

        .flex.flex-row.shadow-base.p-24.rounded-16.bg-white.mb-16
          = graphical_icon "social-contribution", category: :graphics, css_class: "h-[96px] w-[96px] mr-20"
          .flex.flex-col
            .text-h4.mb-4 Love Exercism? Tell others about us!
            .text-prose.text-textColor5
              Follow us on
              = link_to 'Twitter,', 'https://twitter.com/exercism_io', target: "_blank", rel: 'noopener', class: "text-lightBlue font-medium underline"
              = link_to 'GitHub', 'https://github.com/exercism', target: "_blank", rel: 'noopener', class: "text-lightBlue font-medium underline"
              and
              = link_to 'LinkedIn', 'https://www.linkedin.com/company/exercism/', target: "_blank", rel: 'noopener', class: "text-lightBlue font-medium underline"
              then share our posts, and create your own! We try to share everything we see üôÇ
