#page-tracks-build.bg-white

  %header.absolute.top-0
  .lg-container.grid.grid-cols-3.gap-48.relative.mt-40
    .col-span-2
      %h1.text-h1.mb-12.text-48.font-bold.z-1
        - @max = 7
        - @test_num = 123_456
        - @len = @test_num.to_s.length
        .highlight-text{ style: "--transform-y: 2" }= @track.num_students
        students have developed their #{@track.title} skills.
      .grid.grid-cols-3.mb-32.gap-16
        .report-stat
          .stat-name
            Students
            = graphical_icon "info-circle"
          .current-number= @track.num_students
          .growth +939 per day
        .report-stat
          .stat-name
            Submissions
            = graphical_icon "info-circle"
          .current-number= @num_submissions
          .growth +2,569 per day
        .report-stat
          .stat-name
            Mentoring Discussions
            = graphical_icon "info-circle"
          .current-number 580
          .growth +10 per day

      .track-status
        %h3.text-h3.font-bold.mb-12
          The #{@track.title} track is
          %span.text-healthyGreen super healthy âœ…
        .flex
          .flex.flex-col.mr-40
            .tooling-status-label Building
            .tooling-status-group
              %div{ 'tooling-status': 'healthy' }
                = graphical_icon "syllabus"
              %div{ 'tooling-status': 'needs-attention' }
                = graphical_icon "test-runner"
              %div{ 'tooling-status': 'healthy' }
                = graphical_icon "representer"
              %div{ 'tooling-status': 'needs-attention' }
                = graphical_icon "analyzer"
              %div{ 'tooling-status': 'healthy' }
                = graphical_icon "practice-exercises"
          .flex.flex-col.pl-40.border-l-1.border-borderLight
            .tooling-status-label Outreach & Activity
            .tooling-status-group
              %div{ 'tooling-status': 'healthy' }
                = graphical_icon "user-group"
              %div{ 'tooling-status': 'critical' }
                = graphical_icon "conversation-chat"


      .border-2.border-gradient.rounded-12.px-32.py-24.items-center.flex.shadow-smZ1.mb-32
        = image_tag @track.icon_url, class: "w-[64px] h-[64px] mr-24"
        .flex.flex-col.mr-48
          %h5.text-h5 We&apos;re looking for 5 volunteers for the #{@track.title} Track.
          %p.text-textColor5.text-18.leading-140 Could you commit to 3 hours per week over the next 6 months to get the #{@track.title} track up to scratch?
        = link_to "", class: "btn btn-primary btn-large border-1 border-textColor1 rounded-8 shadow-xsZ1v3" do
          Learn more


      .flex.mb-16
        = graphical_icon "building", css_class: "h-[64px] w-[64px] mr-20", hex: true
        .flex.flex-col
          %h2.text-h2 Build
          %p.text-18.text-textColor1.leading-150 Use your knowledge to build the #{@track.title} track itself
        -# TODO add React component with authors/contributors here

      .track-team-group
        .track-header
          %h3.--syllabus-gradient Create the #{@track.title} syllabus
          %p Help create the track syllabus: is a set of concepts and learning exercises put together to teach foundational elements of the programming language.
          = link_to "", class: "learn-more-new-tab" do
            Learn More

        .action-required
          Action required: Create a complete syllabus with at least 30 concepts and learning exercises.
          = link_to "" do
            Find out more.

        .usage-stats-header
          %h4 Usage statistics
        %details.mb-10
          %summary.--syllabus #{@track.num_concepts}/#{@track.concepts.size} concepts created
          - @track.concepts.each do |concept|
            .record-row
              .record-name
                = render ViewComponents::ConceptIcon.new(concept, :small)
                = concept.name.to_s
              .record-value #{rand(50_000..100_000).to_s.gsub(/\B(?=(...)*\b)/, ',')} views
        %details.mb-16
          %summary.--lightbulb #{@user_track.concept_exercises.size}/#{@track.num_exercises} learning exercises created
          - @user_track.concept_exercises.each do |exercise|
            .record-row
              .record-name
                = exercise_icon exercise
                = exercise.title
              .record-value #{exercise.num_published_solutions} completions (30% of attempts)


      .track-team-group
        .track-header
          %h3.--test-runner-gradient Build Test Runners
          %p Create Test Runners that have the single responsibility of taking a solution, running all tests and returning a standardized output.
          = link_to "", class: "learn-more-new-tab" do
            Learn More

        .action-required
          Action required: Get Test Runners to Level 3. #{@track.title} is currently utilising a Level 2 Test Runner.
          = link_to "" do
            Find out more.

        .usage-stats-header
          %h4 Usage statistics
        .stats-container
          .record-row
            .record-name Total Test Runs
            .record-value= @num_test_runs
          .record-row
            .record-name Outcome Breakdown
            .record-value #{@percent_tests_passed}% pass (#{@num_tests_passed}) #{@percent_tests_failed}% fail (#{@num_tests_failed}) #{@percent_tests_unknown}% unknown (#{@num_tests_unknown})
          .record-row
            .record-name Mean Runtime
            .record-value 2.84s


      .track-team-group
        .track-header
          %h3.--analyzer-gradient Build Analyzers
          %p Build an Analyzer for #{@track.title}: Exercism's analyzers automatically assess student's submissions and provide mentor-style commentary.
          = link_to "", class: "learn-more-new-tab" do
            Learn More

        .usage-stats-header
          %h4 Usage statistics
        .stats-container
          .record-row
            .record-name Total Analysis Comments Made
            .record-value 85,602
          .record-row
            .record-name Analysis Display Rate
            .record-value 48%

      .track-team-group
        .track-header
          %h3.--representer-gradient Build Representers
          %p Build a Representer: a bit of code that has the single responsibility of taking a solution and returning a normalized representation of it.
          = link_to "", class: "learn-more-new-tab" do
            Learn More

        .usage-stats-header
          %h4 Usage statistics
        .stats-container
          .record-row
            .record-name Total Representations Created
            .record-value= @track.representations.count
          .record-row
            .record-name Total Representation Comments Made
            .record-value 24% pass (127,602)
          .record-row
            .record-name Representation Display Rate
            .record-value 58%

      .track-team-group
        .track-header
          %h3.--practice-exercises-gradient Create Practice Exercises
          %p Practice Exercises are exercises designed to allow students to solve an arbitrary problem, with the aim of them making use of the concepts they have learned so far.
          = link_to "", class: "learn-more-new-tab" do
            Learn More

        .usage-stats-header
          %h4 Usage statistics
        %details.mb-10
          %summary.--practice-exercises #{@user_track.practice_exercises.size}/30  practice exercise created
          - @user_track.practice_exercises.each do |exercise|
            .record-row
              .record-name
                = exercise_icon exercise
                = exercise.title
              .record-value #{exercise.num_published_solutions} completions (30% of attempts)

    .col-span-1
      .rounded-8.p-24.shadow-baseZ1.bg-white
        .flex.items-center.mb-12
          = graphical_icon "team-idea", css_class: "h-[24px] w-[24px] filter-textColor1 mr-16"
          .label-large.mr-16 Volunteers
          .count-bubble 172

        - 2.times do
          .contributor-credit-block
            .contributor
              = image_tag "team/erik.jpg", alt: "A photo of Erik"
              ErikSchierboom
            = render ViewComponents::Reputation.new(300, flashy: true, size: :small)
        .rounded-8.py-16.px-20.bg-backgroundColorG
          %h6.text-h6.leading-150.mb-4 We ðŸ’™ our volunteers
          %p.text-textColor5.leading-150.text-14.mb-4
            Exercism relies on open-source volunteers to build our language tracks and mentor students.
          = link_to "https://github.com", class: "text-lightBlue font-semibold flex items-center" do
            %span.mr-8 Become an Exercism Volunteer
            = graphical_icon "arrow-right", css_class: "h-[14px] w-[14px] filter-lightBlue"
