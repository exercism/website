.track-team-group
  .track-header.mb-16
    .flex.md:flex-row.flex-col.md:items-center.items-left.justify-between.mb-8.md:gap-0.gap-y-8
      %h3.--practice-exercises-gradient= t('.practice_exercises_heading')
      = link_to doc_path(:building, "tracks/new/add-initial-exercises"), class: "learn-more-new-tab" do
        = t('.learn_more')
    %p= t('.practice_exercises_description')

    %p.text-16.mt-16
      = t('.synced_repo', synced_sha: track.synced_to_git_sha)
      %span.italic= t('.updates_instant')

  - if status.practice_exercises.active.size < status.practice_exercises.num_active_target
    .action-required.mb-24
      = t('.action_required.next_goal', count: status.practice_exercises.num_active_target, include_at_least: %w[exemplar health].include?(status.practice_exercises.health) ? '' : t('.action_required.at_least'))
      = link_to doc_path(:building, "tracks/syllabus/next-exercises") do
        = t('.action_required.find_out_more')

  - unless status.practice_exercises.health == "missing"

    - if status.practice_exercises.active.size.positive?
      %details
        %summary.--practice-exercises
          = t('.active_exercises_summary', count: status.practice_exercises.active.size)
          = graphical_icon 'chevron-right', css_class: 'summary-chevron'
        .record-row.sticky.z-1{ class: 'lg:top-0 top-[65px]' }
          .record-name
          .record-value
            .record-element= t('.record_labels.started')
            .record-element= t('.record_labels.attempts')
            .record-element= t('.record_labels.completions')
            .record-element= t('.record_labels.mentoring_requests')
        - status.practice_exercises.active.each do |exercise|
          .record-row
            .record-name
              = exercise_icon exercise
              = exercise.title
            .record-value
              .record-element{ data: { record_label: t('.record_labels.started') } }
                %strong= number_with_delimiter(exercise.num_started)
              .record-element{ data: { record_label: t('.record_labels.attempts') } }
                %strong= t('.attempts_value', num_submitted: number_with_delimiter(exercise.num_submitted), num_submitted_average: exercise.num_submitted_average)
              .record-element{ data: { record_label: t('.record_labels.completions') } }
                %strong= t('.completions_value', num_completed: number_with_delimiter(exercise.num_completed), num_completed_percentage: exercise.num_completed_percentage)
              .record-element{ data: { record_label: t('.record_labels.mentoring_requests') } }
                %strong= t('.mentoring_requests_value', num_mentoring_requests: number_with_delimiter(exercise.num_mentoring_requests), num_mentoring_requests_percentage: exercise.num_mentoring_requests_percentage)


    - if status.practice_exercises.deprecated.size.positive?
      %details.mt-10
        %summary.--practice-exercises
          = t('.deprecated_exercises_summary', count: status.practice_exercises.deprecated.size)
          = graphical_icon 'chevron-right', css_class: 'summary-chevron'
        .record-row.sticky{ class: 'top-[65px] z-1 lg:top-0' }
          .record-name
          .record-value
            .record-element= t('.record_labels.started')
            .record-element= t('.record_labels.attempts')
            .record-element= t('.record_labels.completions')
            .record-element= t('.record_labels.mentoring_requests')
        - status.practice_exercises.deprecated.each do |exercise|
          .record-row
            .record-name
              = exercise_icon exercise
              = exercise.title
            .record-value
              .record-element{ data: { record_label: t('.record_labels.started') } }
                %strong= number_with_delimiter(exercise.num_started)
              .record-element{ data: { record_label: t('.record_labels.attempts') } }
                %strong= t('.attempts_value', num_submitted: number_with_delimiter(exercise.num_submitted), num_submitted_average: exercise.num_submitted_average)
              .record-element{ data: { record_label: t('.record_labels.completions') } }
                %strong= t('.completions_value', num_completed: number_with_delimiter(exercise.num_completed), num_completed_percentage: exercise.num_completed_percentage)
              .record-element{ data: { record_label: t('.record_labels.mentoring_requests') } }
                %strong= t('.mentoring_requests_value', num_mentoring_requests: number_with_delimiter(exercise.num_mentoring_requests), num_mentoring_requests_percentage: exercise.num_mentoring_requests_percentage)

    - if status.practice_exercises.unimplemented.size.positive?
      %details.mt-10
        %summary.--practice-exercises
          = t('.unimplemented_exercises_summary', count: status.practice_exercises.unimplemented.size)
          = graphical_icon 'chevron-right', css_class: 'summary-chevron'
        - status.practice_exercises.unimplemented.each do |exercise|
          .record-row
            .record-name
              = exercise_icon exercise
              = exercise.title
            .record-value
              .record-element
                = external_link_to t('.view_data'), exercise.links.self, class: 'external-link'

    - if status.practice_exercises.foregone.size.positive?
      %details.mt-10
        %summary.--practice-exercises
          = t('.foregone_exercises_summary', count: status.practice_exercises.foregone.size)
          = graphical_icon 'chevron-right', css_class: 'summary-chevron'
        - status.practice_exercises.foregone.each do |exercise|
          .record-row
            .record-name
              = exercise_icon exercise
              = exercise.title
            .record-value
              .record-element
                = external_link_to t('.view_data'), exercise.links.self, class: 'external-link'
